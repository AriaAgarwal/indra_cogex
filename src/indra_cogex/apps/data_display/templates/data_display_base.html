<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>INDRA CoGEx</title>

    <!-- Bootstrap 5 CSS -->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Vue 2 -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

    <!-- Indralab-vue, for access to <statement> component -->
    <script src="https://bigmech.s3.amazonaws.com/indra-db/indralabvue-latest/IndralabVue.umd.min.js"></script>
    <link href="https://bigmech.s3.amazonaws.com/indra-db/indralabvue-latest/IndralabVue.css" rel="stylesheet">

    {% block header_scripts %}
    {% endblock %}
</head>
<body>
    {% block page_header %}
    {% endblock %}
    <h1>INDRA CoGEx</h1>
    <div class="container" id="app">
        <!-- Copied structure from emmaa evidence:
            - BootStrap card
                - Card body: Table
                    - Table header: None
                    - Table row: one <statement> per row i.e. one column per row with <statement> in it -->
        <div class="card">
            <div class="card-header">
                <h3>CoGEx Statements</h3>
            </div>
            <div class="card-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Statement</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% raw %}
                        <tr v-for="st_obj in this.$data.stmts">
                            <td>
                                <statement
                                        :evidence="st_obj.ev_array"
                                        :english="st_obj.english"
                                        :hash="st_obj.hash"
                                        :sources="st_obj.sources"
                                        :total_evidence="st_obj.total_evidence"
                                        :badges="st_obj.badges"
                                ></statement>
                            </td>
                        </tr>
                        {% endraw %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
        let app = new Vue({
            el: '#app',
            data: {
                stmts: [
                    {% for ev_array, english, hash_str, sources, total_evidence, badges in stmts %}
                        {
                            ev_array: {{ ev_array|safe }},
                            english: {{ english|safe }},
                            hash: {{ hash_str|safe }},
                            sources: {{ sources|safe }},
                            total_evidence: {{ total_evidence|int }},
                            badges: {{ badges|safe }}
                        },
                    {% endfor %}
                ]
            }
        });
        Vue.prototype.$stmt_hash_url = "/";
        Vue.prototype.$curation_url = "{{ url_for('submit_curation_endpoint', hash_val='') }}";
    </script>
</body>
</html>